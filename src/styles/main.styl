@require 'constants.styl'

pages = 10
// --- 1-st block
divide-lines-width = 1.5%
divide-lines-between = 1%
divide-lines-x-offset = 7%

block-2-circle-size = 150px

.absolute-wrapper
    position relative
.absolute-wrapper > *
    position absolute

.landing
    position relative
    height (pages * 100)vh
.landing-block
    position fixed
    width 100%
    height 100vh
.landing-block *
    opacity 1
    transition opacity 0.3s ease
/*.landing-block hide
    opacity 0 */ // in end of file

// -------- Block 1
.block-1 > *
    background empColor1

.divide-line
    width 100%
    height 100%
.divide-line.left
    clip-path polygon((50% - divide-lines-between / 2 - divide-lines-width + divide-lines-x-offset) 0%,  (50% - divide-lines-between / 2 + divide-lines-x-offset) 0%,  (50% - divide-lines-between / 2 - divide-lines-x-offset) 100%,  (50% - divide-lines-between / 2 - divide-lines-x-offset - divide-lines-width) 100%)
.divide-line.left.animate
    animation roll-down-divide-line-left 0.5s ease-out forwards
.divide-line.right
    clip-path polygon((50% + divide-lines-between / 2 + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 - divide-lines-x-offset) 100%)
.divide-line.right.animate
    opacity 0
    animation roll-up-divide-line-right 0.5s ease-out forwards
    animation-delay 0.25s

.block-1-plate
    background black
    animation clip-path 0.1s ease
.block-1-plate.left
    clip-path polygon(0% 0%, (50% - divide-lines-between / 2 - divide-lines-width + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 - divide-lines-x-offset - divide-lines-width) 100%, 0% 100%)
.block-1-plate.right
    clip-path polygon((50% + divide-lines-between / 2 + divide-lines-width + divide-lines-x-offset) 0%, 100% 0%, 100% 100%, (50% + divide-lines-between / 2 + divide-lines-width - divide-lines-x-offset) 100%)

// ------- Block 2
.block-2 > *
    stroke empColor2
    background empColor2

.block-2-circle
    transform rotate(-90deg)
    width block-2-circle-size
    height block-2-circle-size
    border-radius (block-2-circle-size / 2)
    top "calc(50% - %s)" % (block-2-circle-size / 2)
    left "calc(50% - %s)" % (block-2-circle-size / 2)
    stroke-dasharray 0 1000 // js animable
.block-2-circle.plate
    background #111111

.block-2-circle.plate.show
    opacity 1
.lighting-stroke, .lighting-stroke + svg
    background none
    fill none
    stroke-width 3px
    overflow visible
    stroke-linecap round
.lighting-stroke + *
    filter blur(10px)

.landing-block .hide
    opacity 0

@keyframes roll-down-divide-line-left
    0%
        opacity 0
        clip-path polygon((50% - divide-lines-between / 2 - divide-lines-width + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 - divide-lines-width / 2 + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 - divide-lines-width / 2 + divide-lines-x-offset) 0%)
    35%
        opacity 1
        clip-path polygon((50% - divide-lines-between / 2 - divide-lines-width + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 - divide-lines-width / 2 - divide-lines-x-offset) 100%, (50% - divide-lines-between / 2 - divide-lines-width / 2 - divide-lines-x-offset) 100%)
    100%
        opacity 1
        clip-path polygon((50% - divide-lines-between / 2 - divide-lines-width + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 - divide-lines-x-offset) 100%, (50% - divide-lines-between / 2 - divide-lines-x-offset - divide-lines-width) 100%)
@keyframes roll-up-divide-line-right
    0%
        opacity 0
        clip-path polygon((50% + divide-lines-between / 2 + divide-lines-width / 2 - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 + divide-lines-width / 2 - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 + divide-lines-width - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 - divide-lines-x-offset) 100%)
    35%
        opacity 1
        clip-path polygon((50% + divide-lines-between / 2 + divide-lines-width / 2 + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width / 2 + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 - divide-lines-x-offset) 100%)
    100%
        opacity 1
        clip-path polygon((50% + divide-lines-between / 2 + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 - divide-lines-x-offset) 100%)
