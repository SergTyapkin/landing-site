@require 'constants.styl'

// --- 1-st block
divide-lines-width = 1.5%
divide-lines-between = 1%
divide-lines-x-offset = 7%

block-2-circle-size = 150px

block-4-text-path-width = 300px
block-4-text-path-height = 1800px
block-4-vertical-line-width = 4px

.absolute-wrapper
    position relative
.absolute-wrapper > *
    position absolute

.landing
    position relative
    pointer-events none
.landing > div
    position fixed
    width 100%
    height 100vh
    pointer-events none
.landing > div > *
    opacity 1
    transition opacity 0.3s ease
    pointer-events auto
/*.landing-block hide
    opacity 0 */ // in end of file

// -------- Block 1
.block-1 > *
    background empColor1
.block-1
    .divide-line
        width 100%
        height 100%
    .divide-line.left
        clip-path polygon((50% - divide-lines-between / 2 - divide-lines-width + divide-lines-x-offset) 0%,  (50% - divide-lines-between / 2 + divide-lines-x-offset) 0%,  (50% - divide-lines-between / 2 - divide-lines-x-offset) 100%,  (50% - divide-lines-between / 2 - divide-lines-x-offset - divide-lines-width) 100%)
    .divide-line.left.animate
        animation roll-down-divide-line-left 0.5s ease-out forwards
    .divide-line.right
        clip-path polygon((50% + divide-lines-between / 2 + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 - divide-lines-x-offset) 100%)
    .divide-line.right.animate
        opacity 0
        animation roll-up-divide-line-right 0.5s ease-out forwards
        animation-delay 0.25s


    .plate
        background black
        animation clip-path 0.1s ease
    .plate.left
        clip-path polygon(0% 0%, (50% - divide-lines-between / 2 - divide-lines-width + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 - divide-lines-x-offset - divide-lines-width) 100%, 0% 100%)
    .plate.right
        clip-path polygon((50% + divide-lines-between / 2 + divide-lines-width + divide-lines-x-offset) 0%, 100% 0%, 100% 100%, (50% + divide-lines-between / 2 + divide-lines-width - divide-lines-x-offset) 100%)

// ------- Block 2
.block-2 > *
    stroke empColor2
    background empColor2
.block-2
    .svg-circle
        transform rotate(-90deg) translate(50%, -50%) // js animable
        width block-2-circle-size
        height block-2-circle-size
        top 50%
        left 50%
        stroke-dasharray 0 1000 // js animable
        transition fill 0.5s ease
    .svg-circle.filled
        fill #111111
    .circle.plate.show
        opacity 1

// ------- Block 4
.block-4
    .text-path
        width block-4-text-path-width
        height block-4-text-path-height
        fill empColor5
        overflow visible
        top 50%
        left 50%
        transform translate(-(block-4-text-path-width / 2), -(block-4-text-path-width / 2))
        letter-spacing 10px
    .text-path path
        fill none

    .spikes
        transition opacity 1s ease

    .inside-circle
        opacity 0 // js animable
        height block-2-circle-size //js animable
        width  block-2-circle-size //js animable
        border-radius 50%
        border 1px empColor2 solid
        top 50% // js animable
        left 50%
        transform translate(-50%, -50%)

    .vertical-line
        top 50%
        left 50%
        transform translate(-(block-4-vertical-line-width / 2), -(block-4-vertical-line-width / 2))
        width block-4-vertical-line-width
        background empColor2
        box-shadow 0 0 5px empColor2
        height 0 //js animable
        border-radius (block-4-vertical-line-width / 2)


// ------- All
.lighting-stroke, .lighting-stroke + svg.lighting-stroke
    background none
    fill none
    stroke-width 3px
    overflow visible
    stroke-linecap round
.lighting-stroke + svg.lighting-stroke
    filter blur(10px)

.landing > div .hide
    opacity 0

@keyframes roll-down-divide-line-left
    0%
        opacity 0
        clip-path polygon((50% - divide-lines-between / 2 - divide-lines-width + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 - divide-lines-width / 2 + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 - divide-lines-width / 2 + divide-lines-x-offset) 0%)
    35%
        opacity 1
        clip-path polygon((50% - divide-lines-between / 2 - divide-lines-width + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 - divide-lines-width / 2 - divide-lines-x-offset) 100%, (50% - divide-lines-between / 2 - divide-lines-width / 2 - divide-lines-x-offset) 100%)
    100%
        opacity 1
        clip-path polygon((50% - divide-lines-between / 2 - divide-lines-width + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 + divide-lines-x-offset) 0%, (50% - divide-lines-between / 2 - divide-lines-x-offset) 100%, (50% - divide-lines-between / 2 - divide-lines-x-offset - divide-lines-width) 100%)
@keyframes roll-up-divide-line-right
    0%
        opacity 0
        clip-path polygon((50% + divide-lines-between / 2 + divide-lines-width / 2 - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 + divide-lines-width / 2 - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 + divide-lines-width - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 - divide-lines-x-offset) 100%)
    35%
        opacity 1
        clip-path polygon((50% + divide-lines-between / 2 + divide-lines-width / 2 + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width / 2 + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 - divide-lines-x-offset) 100%)
    100%
        opacity 1
        clip-path polygon((50% + divide-lines-between / 2 + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width + divide-lines-x-offset) 0%,  (50% + divide-lines-between / 2 + divide-lines-width - divide-lines-x-offset) 100%,  (50% + divide-lines-between / 2 - divide-lines-x-offset) 100%)
